
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>T'chiche ?</title>

  <!-- PWA (optionnel) -->
  <meta name="theme-color" content="#1b0b2a" />
  <link rel="manifest" href="manifest.json" />

  <!-- Anti-cache PWA : incrÃ©mente v=3 Ã  chaque dÃ©ploiement -->
  <link rel="stylesheet" href="styles.css?v=3" />
</head>
<body>
  <main id="app">
    <!-- Ã‰CRAN SETUP -->
    <section id="setup-screen" class="screen active" role="region" aria-labelledby="setup-title">
      <h1 id="setup-title">T'chiche ? ğŸ˜ˆğŸ”¥</h1>

      <!-- 1. CHOIX DU NIVEAU -->
      <fieldset class="level-picker">
        <legend>1. Choisissez le niveau</legend>
        <div class="levels">
          <button class="level-btn selected" data-level="1" type="button">Phase 1 - PrÃ©liminaires</button>
          <button class="level-btn" data-level="2" type="button">Phase 2 - Plus en profondeur</button>
          <button class="level-btn" data-level="3" type="button">Phase 3 - Hors de contrÃ´le</button>
          <button class="level-btn" data-level="4" type="button">Phase 4 - Transcendance</button>
        </div>
      </fieldset>

      <!-- 2. JOUEURÂ·SEÂ·S -->
      <section class="players" aria-labelledby="players-title">
        <h2 id="players-title">2. Ajoutez les joueurÂ·seÂ·s</h2>

        <div id="player-list" class="player-list">
          <!-- Les champs sont injectÃ©s par script.js -->
        </div>

        <div class="setup-actions">
          <button id="add-player-btn" type="button">+ Ajouter unÂ·e joueurÂ·se</button>
          <button id="add-custom-btn" type="button">Ajouter mes propres dÃ©fis</button>
        </div>
      </section>

      <!-- CTA LANCER -->
      <div class="start">
        <button id="start-game-btn" class="main-cta" type="button">T'chiche ?</button>
      </div>
    </section>

    <!-- Ã‰CRAN JEU -->
    <section id="game-screen" class="screen" role="region" aria-labelledby="game-title" style="display:none">
      <h2 id="turn-indicator" aria-live="polite">Au tour de â€¦</h2>

      <div id="card-content" class="card">
        <p id="challenge-text" aria-live="polite">PrÃ©parez-vous...</p>
        <span id="author-tag" style="display:none;"></span>
      </div>

      <div class="game-buttons">
        <button id="truth-btn" class="choice-btn" type="button">VÃ©ritÃ©</button>
        <button id="dare-btn" class="choice-btn" type="button">Action</button>
        <button id="random-btn" class="choice-btn" type="button">DÃ©fi AlÃ©atoire</button>
        <button id="next-player-btn" class="main-cta" type="button">JoueurÂ·se SuivantÂ·e</button>
      </div>
    </section>

    <!-- MODALE : AJOUT DÃ‰FI PERSO -->
    <div id="custom-challenge-modal" class="modal" role="dialog" aria-modal="true"
         aria-labelledby="custom-title" style="display:none;">
      <div class="modal-content">
        <h3 id="custom-title">Ajouter un dÃ©fi</h3>

        <label for="custom-challenge-text">Texte du dÃ©fi</label>
        <textarea id="custom-challenge-text" rows="4" placeholder="Ã‰cris ici ton dÃ©fiâ€¦"></textarea>

        <div class="modal-row">
          <label for="custom-type-select">Type</label>
          <select id="custom-type-select">
            <option value="truths">VÃ©ritÃ©</option>
            <option value="dares">Action</option>
          </select>
        </div>

        <div class="modal-row">
          <label for="custom-level-select">Niveau</label>
          <select id="custom-level-select">
            <option value="1">Phase 1</option>
            <option value="2">Phase 2</option>
            <option value="3">Phase 3</option>
            <option value="4">Phase 4</option>
          </select>
        </div>

        <div class="modal-actions">
          <button id="save-challenge-btn" class="main-cta" type="button">Ajouter</button>
          <button id="close-modal-btn" type="button">Fermer</button>
        </div>
      </div>
    </div>

    <noscript>Active JavaScript pour jouer ğŸ™ƒ</noscript>
  </main>

  <!-- IMPORTANT : data.js AVANT script.js (tu peux aussi ajouter ?v=3) -->
  <script src="data.js?v=3" defer></script>
  <script src="script.js?v=3" defer></script>
</body>
</html>
